# 年度统计表功能需求分析

## 用户需求

用户希望在时间追踪应用中添加一个"年度统计表"功能，用于以表格形式展示全年的活动记录。根据用户提供的示例图片，该表格应具有以下特点：

1. 表格布局：
   - 左侧第一列显示日期（1-31日）
   - 顶部行显示月份（1-12月）
   - 表格单元格中显示当天的活动记录

2. 内容展示：
   - 每个单元格中显示活动名称（如"跑步"）
   - 可能包含额外信息，如成绩、时间等（例如"1km pb:3:03"、"5km pb 17:52s"）
   - 有些单元格可能包含特殊标记（如"跑过20.24了"、"再次破20"）

3. 用户界面：
   - 需要添加一个新的"年度统计表"按钮，与现有的统计视图按钮并列
   - 点击按钮后显示年度表格视图
   - 可能需要年份选择器，以便查看不同年份的数据

## 技术需求

1. 数据结构：
   - 需要按日期组织活动数据，以便快速查找特定日期的活动
   - 需要支持在单元格中显示多种信息（活动名称、成绩等）

2. 界面组件：
   - 表格组件，支持固定表头和第一列
   - 年份选择器
   - 活动类型筛选器（可选，用于只显示特定类型的活动，如"跑步"）

3. 交互功能：
   - 点击单元格可能显示该日详细活动信息
   - 支持导出表格数据（可选）

## 实现考虑

1. 表格生成：
   - 动态生成表格，适应不同屏幕大小
   - 处理月份天数不同的情况（如2月28/29天，其他月30/31天）

2. 数据处理：
   - 从现有活动记录中提取数据，按日期组织
   - 处理同一天多个活动的情况（可能需要选择最主要的活动显示，或使用特殊标记）

3. 性能优化：
   - 表格可能包含大量数据（12个月 × 31天），需要考虑渲染性能
   - 可能需要分页或虚拟滚动等技术

4. 移动端适配：
   - 在小屏幕设备上如何有效展示大型表格
   - 可能需要横向滚动或其他导航方式

## 与现有功能的集成

新的年度统计表功能需要与现有的统计功能协调工作：
1. 共享相同的数据源
2. 保持一致的用户体验和视觉风格
3. 可能需要调整现有的统计视图切换逻辑
